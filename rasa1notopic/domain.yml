version: '3.1'
intents:
- greet
# - confirm_existing_topic
# - no_idea_for_decision_tree
- nlu_fallback
- choose_discipline
- choose_topic
# - choose_chemistry_topic
# - choose_physics_topic
# - choose_biology_topic
# - choose_earth_science_topic
# - choose_subtopic
- user_responds_to_topic
# - research_subtopic
- definition
- chitchat
- student_response

responses:
  # utter_greet:
  # - text: 你好，需要什麼幫助呢？
  # utter_topic:
  # - text: 為什麼你會想研究這個主題，還是你想要了解什麼呢？
  utter_please_rephrase:
  - text: 你好，需要什麼幫助呢？如果不知道怎麼提問的話，可以多善用左下角的提問小幫手唷！

actions:
# - utter_greet
# - utter_topic
# - utter_no_idea_check
# - action_handle_topic
- utter_please_rephrase
- action_start_decision_tree
- action_save_science_discipline
- action_explore_topic
# - action_explore_chemistry_topic
# - action_explore_physics_topic
# - action_explore_biology_topic
# - action_explore_earth_science_topic
# - action_save_subtopic
# - action_rag_abstract_explain
# - action_rag_5W1H
- action_check_slots
- action_clear_slots
- action_research_question

entities:
  - has_topic
  - research_question
  - topic
  - science_discipline
  # - subtopic

slots:
  has_topic:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: has_topic

  topic:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: topic

  science_discipline:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: science_discipline

  # subtopic:
  #   type: text
  #   influence_conversation: true
  #   mappings:
  #     - type: from_entity
  #       entity: subtopic
  
  continue_conversation:
    type: bool
    influence_conversation: true
    mappings:
      - type: custom

  conversation_rounds:
    type: float
    influence_conversation: false
    initial_value: 0
    mappings:
      - type: custom

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: false
